/**********************************************************************\
*
*	jQuery.madWindow
*	----------------------
*	version: 1.0.4
*	date: 2021/05/21
*	license: GPL-3.0-or-later
*	copyright (C) 2021 Brian Patrick Mucha
*
\**********************************************************************/

!function(e){var t={},o=[],s=[],i={messageTitle:null,messageContent:null,messageButtonShow:!1,messageButtonLabel:"Ok",theme:"default",behavior:"autoCenter",cookieName:"mad-cookie",expireDays:0,width:400,closePadding:0,speed:500,modal:!1,modalClose:!1,modalSpeed:250,disableScroll:!1,disableMethod:"auto",openDelay:0,closeTimeout:0,openCallback:function(){},closeCallback:function(){},hiddenCallback:function(){}},n={open:function(o){return t=e.extend({},i,o),this.each(function(){var o;if(this===this.window&&t.messageContent){var s="";t.messageButtonShow&&(s='<input value="'+t.messageButtonLabel+'" title="'+t.useButton+'" type="button" class="mad-window-closeButton" />');var i='<div class="mad-window-container"><div class="mad-window-title">'+t.messageTitle+'</div><div class="mad-window-closebox"></div><div class="mad-window-content">'+t.messageContent+"</div>"+s+"</div>",n=e("<div/>",{id:"mad-window-"+Date.now(),class:"mad-window "+t.theme,height:"auto",css:{display:"none"}}).html(i).prependTo(e("body"));o=n[0]}else o=this;if(e(o).is("div")&&!e(o).parent().is("body")&&e(o).appendTo(document.body),e(o).data("settings",t),"Hide"==c.readCookie(t.cookieName))"function"==typeof t.hiddenCallback&&t.hiddenCallback.call(o);else{var d=e.isNumeric(t.openDelay)?t.openDelay:0;setTimeout(function(){a.doOpen(o)},1e3*d)}})},close:function(){return this.each(function(){a.doClose(this)})}},a={doOpen:function(i){switch(t=e(i).data("settings"),i&&(e(i).addClass(t.theme),e(i).find(".mad-window-closebox").one("click",function(){e("#"+i.id).madWindow("close")}),e(i).find(".mad-window-closeButton").one("click",function(){e("#"+i.id).madWindow("close")}),e(i).find(".mad-window-cancelButton").one("click",function(){e("#"+i.id).madWindow("close")})),t.disableScroll&&("fixed"==t.disableMethod?e("html").css({position:"fixed","overflow-y":"scroll",width:"100%"}):"overflow"==t.disableMethod?e("html").css({overflow:"hidden"}):0==t.openDelay?e("html").css({position:"fixed","overflow-y":"scroll",width:"100%"}):e("html").css({overflow:"hidden"})),t.modal&&(d.overlay("open",i),e(window).on("resize.overlay",function(){d.overlay("resize",i)})),t.closeTimeout&&(o.push(i.id),s.push(i.id),o[i.id]=function(){s[i.id]=setTimeout(function(){a.doClose(i,t)},1e3*t.closeTimeout)}),t.behavior){case"autoCenter":d.autoCenter("open",i,o[i.id]),e(window).on("resize.autoCenter",function(){d.autoCenter("resize",i)});break;case"bottomCenter":d.bottomCenter("open",i,o[i.id]),e(window).on("resize.bottomCenter",function(){d.bottomCenter("resize",i)});break;case"topRight":d.topRight("open",i,o[i.id]),e(window).on("resize.topRight",function(){d.topRight("resize",i)});break;case"bottomRight":d.bottomRight("open",i,o[i.id]),e(window).on("resize.bottomRight",function(){d.bottomRight("resize",i)});break;case"topLeft":d.topLeft("open",i,o[i.id]),e(window).on("resize.topLeft",function(){d.topLeft("resize",i)});break;case"bottomLeft":d.bottomLeft("open",i,o[i.id]),e(window).on("resize.bottomLeft",function(){d.bottomLeft("resize",i)});break;default:throw"Unexpected style configuration."}"function"==typeof t.openCallback&&t.openCallback.call(i)},doClose:function(o){switch((t=e(o).data("settings")).behavior){case"autoCenter":d.autoCenter("close",o),e(window).off("resize.autoCenter");break;case"bottomCenter":d.bottomCenter("close",o),e(window).off("resize.bottomCenter");break;case"topRight":d.topRight("close",o),e(window).off("resize.topRight");break;case"bottomRight":d.bottomRight("close",o),e(window).off("resize.bottomRight");break;case"topLeft":d.topLeft("close",o),e(window).off("resize.topLeft");break;case"bottomLeft":d.bottomLeft("close",o),e(window).off("resize.bottomLeft");break;default:throw"Unexpected style configuration."}t.modal&&(d.overlay("close",o),e(window).off("resize.overlay")),t.disableScroll&&("fixed"==t.disableMethod?e("html").css({position:"relative"}):"overflow"==t.disableMethod?e("html").css({overflow:""}):0==t.openDelay?e("html").css({position:"relative"}):e("html").css({overflow:""})),t.expireDays&&c.createCookie(t.cookieName,"Hide",t.expireDays),"function"==typeof t.closeCallback&&t.closeCallback.call(o)}},d={overlay:function(o,s){switch(o){case"open":e("<div/>",{id:"mad-window-overlay-"+s.id,class:t.modalClose?"mad-window-overlay clickable "+t.theme:"mad-window-overlay "+t.theme,height:e(document).height(),width:e(document).width(),css:{display:"none"},click:function(){t.modalClose&&e(s).madWindow("close")}}).prependTo(e("body")).fadeIn(t.modalSpeed);break;case"close":e("#mad-window-overlay-"+s.id).fadeOut(t.modalSpeed).delay(t.modalSpeed).queue(function(){e("#mad-window-overlay-"+s.id).remove()});break;case"resize":e("#mad-window-overlay-"+s.id).css("width",e(document).width()+"px").css("height",e(document).height()+"px")}},autoCenter:function(o,i,n){e(i).css("width",c.setWidth(t));var a=(e(window).height()-e(i).outerHeight())/2,d=(e(window).width()-e(i).outerWidth())/2;switch(o){case"open":e(i).stop().css("display","none").css("position","fixed").css("top",a).css("left",d-t.closePadding/2).fadeIn(t.speed,n);break;case"close":clearTimeout(s[i.id]),e(i).stop().fadeOut(t.speed);break;case"resize":e(i).css("top",a).css("left",d-t.closePadding/2)}},bottomCenter:function(o,i,n){e(i).css("width",c.setWidth(t));var a=-1*(e(i).outerHeight()+30),d=(e(window).width()-e(i).outerWidth())/2;switch(o){case"open":e(i).stop().css("display","none").css("position","fixed").css("bottom",a).css("left",d-t.closePadding/2).fadeIn().animate({bottom:20},t.speed,n);break;case"close":clearTimeout(s[i.id]),e(i).stop().css("bottom",20).animate({bottom:a},t.speed).delay(t.speed).fadeOut(t.speed);break;case"resize":e(i).css("bottom",20).css("left",d-t.closePadding/2)}},topRight:function(o,i,n){e(i).css("width",c.setWidth(t));e(i).outerHeight();var a=-1*(e(i).outerWidth()+30);switch(o){case"open":e(i).stop().css("display","none").css("position","fixed").css("top",20).css("right",a).fadeIn().animate({right:20},t.speed,n);break;case"close":clearTimeout(s[i.id]),e(i).stop().css("right",20).animate({right:a},t.speed).delay(t.speed).fadeOut(t.speed);break;case"resize":e(i).css("top",20).css("right",20)}},bottomRight:function(o,i,n){e(i).css("width",c.setWidth(t));e(i).outerHeight();var a=-1*(e(i).outerWidth()+30);switch(o){case"open":e(i).stop().css("display","none").css("position","fixed").css("bottom",20).css("right",a).fadeIn().animate({right:20},t.speed,n);break;case"close":clearTimeout(s[i.id]),e(i).stop().css("right",20).animate({right:a},t.speed).delay(t.speed).fadeOut(t.speed);break;case"resize":e(i).css("bottom",20).css("right",20)}},topLeft:function(o,i,n){e(i).css("width",c.setWidth(t));e(i).outerHeight();var a=-1*(e(i).outerWidth()+30);switch(o){case"open":e(i).stop().css("display","none").css("position","fixed").css("top",20).css("left",a).fadeIn().animate({left:20},t.speed,n);break;case"close":clearTimeout(s[i.id]),e(i).stop().css("left",20).animate({left:a},t.speed).delay(t.speed).fadeOut(t.speed);break;case"resize":e(i).css("top",20).css("left",20)}},bottomLeft:function(o,i,n){e(i).css("width",c.setWidth(t));e(i).outerHeight();var a=-1*(e(i).outerWidth()+30);switch(o){case"open":e(i).stop().css("display","none").css("position","fixed").css("bottom",20).css("left",a).fadeIn().animate({left:20},t.speed,n);break;case"close":clearTimeout(s[i.id]),e(i).stop().css("left",20).animate({left:a},t.speed).delay(t.speed).fadeOut(t.speed);break;case"resize":e(i).css("bottom",20).css("left",20)}}},c={setWidth:function(t){var o="auto"==t.width?935:t.width,s=e(window).width();return s<o+t.closePadding+60?s-t.closePadding-60:o-t.closePadding},createCookie:function(e,t,o){if(o){var s=new Date;s.setTime(s.getTime()+24*o*60*60*1e3);var i="; expires="+s.toGMTString()}else i="";document.cookie=e+"="+t+i+"; SameSite=Lax; path=/"},readCookie:function(e){for(var t=e+"=",o=document.cookie.split(";"),s=0;s<o.length;s++){for(var i=o[s];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null}};e.fn.madWindow=function(t,o){return n[t]?n[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.madWindow"):n.init.apply(this,arguments)}}(jQuery);
